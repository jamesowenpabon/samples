define(function(){angular.module("directivesMod",[]).directive("toggleSibs",function(){var swapActive=function(e,a){a=a.toggleSibs,e.siblings().removeClass(a),e.addClass(a)},link=function(scope,element,attrs){element.bind("click",function(){swapActive(element,attrs)})};return{restrinct:"A",link:link}}).directive("togglePrev",function(){var swapActive=function(e,a){a=a.togglePrev,e.siblings().removeClass(a),e.prev().addClass(a)},link=function(scope,element,attrs){element.bind("click",function(){swapActive(element,attrs)})};return{restrinct:"A",link:link}}).directive("setLoadActive",function($location){var link=function(scope,element,attrs){var path=$location.path().substr(1).split("/"),id=""!=path[0]?path[0]:"home";element.find("#"+id).addClass(attrs.setLoadActive)};return{restrict:"A",link:link}}).directive("toggleCaret",function(){var orderToggle=function(s,e,a){var lt=s.lastDisplayTarget;""==lt&&e.find("."+a.toggleCaret).toggleClass("caret"),""!=lt&&lt!=e&&(lt.find("."+a.toggleCaret).toggleClass("caret"),lt.removeClass("dropup"),e.find("."+a.toggleCaret).toggleClass("caret")),e.toggleClass("dropup"),s.lastDisplayTarget=e},link=function(scope,element,attrs){element.bind("click",function(){orderToggle(scope,element,attrs)})};return{restrict:"A",link:link}}).directive("ddtItem",function(){var onddtFunction=function(scope,element,attrs){element.bind("touchstart",function(event){event.preventDefault(),event.stopPropagation();var sourceContainerId=event.target.parentElement.id,touchedElementText=event.currentTarget.childNodes[0].nodeValue,sourceContainerRow=event.target.parentElement.dataset.row,touchedElement=event.target;$("body").append("<span id='ghostDragElement' class='ghostdrag'>"+touchedElementText+"</span>"),scope.onStart(sourceContainerId,sourceContainerRow,touchedElement)}),element.bind("touchmove",function(event){event.preventDefault(),event.stopPropagation();var xPos=event.originalEvent.changedTouches[0].pageX,yPos=event.originalEvent.changedTouches[0].pageY;$("#ghostDragElement").offset({top:yPos-25,left:xPos-35}),$("#ghostDragElement").addClass("ghostdrag--moving"),scope.onMove(xPos,yPos,event)}),element.bind("touchend",function(event){$("#ghostDragElement").remove(),event.preventDefault(),event.stopPropagation();var sourceContainerId=event.target.parentElement.id,sourceContainerRow=event.target.parentElement.dataset.row,xPos=event.originalEvent.changedTouches[0].pageX,yPos=event.originalEvent.changedTouches[0].pageY,xyElem=document.elementFromPoint(xPos,yPos),destinationContainer=xyElem?xyElem:event.target.parentElement,destinationContainerRow=destinationContainer.dataset.row,destinationContainerId=""!=destinationContainer.id?destinationContainer.id:sourceContainerId,dropTest=$("#"+destinationContainerId).attr("dropable-item"),isDropBox=!dropInSelf&&!srcEqDest&&"undefined"!=typeof dropTest&&dropTest!==!1,dropInSelf=event.target.id===destinationContainerId,srcEqDest=sourceContainerId===destinationContainerId;dropInSelf||srcEqDest||!isDropBox?(destinationContainerId=sourceContainerId,destinationContainerRow=sourceContainerRow):$("#"+destinationContainerId).html(event.target),scope.onEnd(destinationContainerId,destinationContainerRow,event)}),element.bind("dragstart",function(event){event.originalEvent.dataTransfer.effectAllowed="move";var sourceContainerId=event.target.parentElement.id,sourceContainerRow=event.target.parentElement.dataset.row;event.originalEvent.dataTransfer.setData("text",event.target.id),scope.onStart(sourceContainerId,sourceContainerRow)}),element.bind("dragend",function(event){event.preventDefault();var destinationContainerId=event.target.parentElement.id,destinationContainerRow=event.target.parentElement.dataset.row;scope.onEnd(destinationContainerId,destinationContainerRow,event)})},link=function(scope,element,attrs){onddtFunction(scope,element,attrs)};return{restrict:"A",link:link}}).directive("dropableItem",function(){var onDropFunction=function(scope,element,attrs){element.bind("drop",function(event){event.preventDefault();var draggableElement=event.target.draggable,data=event.originalEvent.dataTransfer.getData("text");draggableElement||event.target.appendChild($("#"+data)[0])}),element.bind("dragover",function(event){event.preventDefault(),event.originalEvent.dataTransfer.dropEffect="move";event.originalEvent.pageX,event.originalEvent.pageY})},link=function(scope,element,attrs){onDropFunction(scope,element,attrs)};return{restrict:"A",link:link}}).directive("domMod",function(){var link=function(scope){scope.remove=function(elementId,className){$("#"+elementId).removeClass(className)},scope.add=function(elementId,className){$("#"+elementId).addClass(className)},scope.replace=function(elementId,attrName,attrValue){$("#"+elementId).attr(attrName,attrValue)},scope.onInit({"interface":{remove:scope.remove,add:scope.add,replace:scope.replace}})};return{scope:{onInit:"&onInit"},restrict:"A",link:link}}).directive("onLastRepeat",function(){return{scope:{onLastRepeat:"&onLastRepeat",last:"@last"},restrict:"A",link:function(scope,element,attrs){scope.last&&scope.onLastRepeat()}}}).directive("modalWindow",function(){return{scope:!1,templateUrl:"modalWindow.html"}}).directive("cg",function(){return{restrict:"E",link:function(scope,element){angular.element(element).css("color","green")}}}).directive("cm",function(){return{restrict:"E",link:function(scope,element){angular.element(element).css("color","red")}}}).directive("co",function(){return{restrict:"E",link:function(scope,element){angular.element(element).css("color","orange")}}}).directive("cb",function(){return{restrict:"E",link:function(scope,element){angular.element(element).css("color","blue")}}}).directive("cp",function(){return{restrict:"E",link:function(scope,element){angular.element(element).css("color","purple")}}})});
//# sourceMappingURL=../maps/directives/directives.js.map
