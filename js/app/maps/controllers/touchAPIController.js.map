{"version":3,"sources":["controllers/touchAPIController-src.js"],"names":["define","sampleApp","register","controller","$rootScope","$scope","exSrcConSrv","arryObjSrv","ha","this","exSrcObj","exSrcCon","html","label","src","icon","css","psrc","exSrcLinkArray","parseObj","touchConfigObj","droplist","touchFunction","localScope","dragConfigObj","dragFunction","dropConfigObj","dropFunction","onTouchFunction","scope","element","attrs","attrsobj","angular","fromJson","touchableItem","dropList","on","event","preventDefault","stopPropagation","touchedElementId","touchedElementText","currentTarget","childNodes","nodeValue","sourceContainerRow","target","parentElement","dataset","row","$","attr","append","xPos","originalEvent","changedTouches","pageX","yPos","pageY","offset","top","left","addClass","remove","sourceContainer","id","sourceContainerId","clientX","clientY","destinationContainer","document","elementFromPoint","destinationContainerRow","destinationContainerId","indexOf","removeClass","matchRow","right","undefined","onDragFunction","dataTransfer","effectAllowed","setData","onDropFunction","draggableElement","draggable","data","getData","destinationContainerChild","appendChild","dropEffect","console","log"],"mappings":"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","file":"controllers/touchAPIController.js","sourcesContent":["//Touch API Controller\n\ndefine(['app'], function(sampleApp){\n\nsampleApp.register.controller('touchAPI', function($rootScope, $scope, exSrcConSrv, arryObjSrv)\t{\n\tvar ha = this;\n\t\n\t$rootScope.exSrcObj = new exSrcConSrv.exSrcCon(\n    {\n\t\t\"html\" : {\t\n\t\t\"label\":\"HTML\", \n\t\t\"src\":\"pages/htmlapi/drag-drop.html\", \n\t\t\"icon\":\"fa fa-html5\"\n\t\t},\n\t\t\"controller\" : {\n\t\t\"label\":\"TouchAPICtrlr\", \n\t\t\"src\":\"srcjs/app/controllers/touchAPIController-src.js\",  \n\t\t\"icon\":\"fa fa-dot-circle-o\"\n\t\t},\n\t\t\"css\" : {\n\t\t\"label\":\"SCSS\", \n\t\t\"src\":\"scss/app/dragDrop.scss\", \n\t\t\"psrc\":\"css/app/dragDrop.css\",\n\t\t\"icon\":\"fa fa-css3\"\n\t\t}\n    });\n    \n    $rootScope.exSrcLinkArray = arryObjSrv.parseObj($rootScope.exSrcObj);\n\n\tha.touchConfigObj = \n\t{\n\t'droplist' : ['left1','left2','left3','right1','right2',\n\t\t\t\t'right3','r4c1','r4c2','r4c3','r4c4','r4c5','r4c6'],\n\t'touchFunction' : 'onTouchFunction',\n\t'localScope' : 'ha'\n\t};\n\t\n\tha.dragConfigObj = {'dragFunction' : 'onDragFunction' , 'localScope' : 'ha'};\n\tha.dropConfigObj = {'dropFunction' : 'onDropFunction' , 'localScope' : 'ha'};\n\t\t\t\t\t\n\tha.onTouchFunction = function(scope,element,attrs)\t{\n\tvar attrsobj =\tangular.fromJson(attrs.touchableItem);\n\tvar dropList = attrsobj.droplist;\n\t\n\telement.on('touchstart',function(event){\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar touchedElementId = event;\n\t\tvar touchedElementText = touchedElementId.currentTarget.childNodes[0].nodeValue;\n\t\tvar sourceContainerRow = event.target.parentElement.dataset.row;\n\t\tif(sourceContainerRow != 'homeRow')\t{\n\t \t\t$( \"#center\" + sourceContainerRow).attr('class','box--noresult');\n\t\t}\n\t\t$( \"body\" ).append( \"<span id='ghostDragElement' class='ghostdrag'>\"+\n\t\ttouchedElementText+\"</span>\" );\n\t});\n\t\n\telement.on('touchmove',function(event){\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar xPos = event.originalEvent.changedTouches[0].pageX;\n\t\tvar yPos = event.originalEvent.changedTouches[0].pageY;\n\t\t$(\"#ghostDragElement\").offset({ top: yPos-25, left: xPos-35 });\n\t\t$(\"#ghostDragElement\").addClass( \"ghostdrag--moving\" );\n\t});\n\t\n\t// Touch Events\n\telement.on('touchend',function(event){\n\t\t$(\"#ghostDragElement\").remove();\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar touchedElementId = event.target.id;\n\t\tvar sourceContainer = event.target.parentElement;\n\t\tvar sourceContainerId = event.target.parentElement.id;\n\t\tvar sourceContainerRow = sourceContainer.dataset.row;\n\t\tvar xPos = event.originalEvent.changedTouches[0].clientX;\n\t\tvar yPos = event.originalEvent.changedTouches[0].clientY;\n\t\tvar destinationContainer = document.elementFromPoint(xPos, yPos);\n\t\tvar destinationContainerRow = destinationContainer.dataset.row;\n\t\tvar destinationContainerId = destinationContainer.id != \"\" ? destinationContainer.id : 'noId';\n\t\t\n\t\tif (dropList.indexOf(destinationContainerId) != -1)\t{\n\t\t    $( \"#\" + destinationContainerId).html(event.target);\n\t\t    $( \"#\" + destinationContainerId).removeClass( \"box--empty\" );\n\t\t  \t$( \"#\" + destinationContainerId).addClass( \"box\" );\n\t\t  \t$( \"#\" + sourceContainerId).removeClass( \"box\" );\n\t\t\t$( \"#\" + sourceContainerId).addClass( \"box--empty\" );\n\t\t}\n\t\t\n\t\tvar matchRow = dropList.indexOf(destinationContainerId) != -1 ? \n\t\tdestinationContainerRow : sourceContainerRow;\n\t\tvar left = $( \"#left\" + matchRow + \" span:first-of-type\" ).attr('data-match');\n\t\tvar right = $( \"#right\" + matchRow + \" span:first-of-type\" ).attr('data-match');\n\t\tif(left != undefined && right != undefined)\t{\n\t\t\tif(left == right)\t{\n\t\t\t\t$( \"#center\" + matchRow).attr('class','box--match') \t;\t\n\t\t\t}else if (left != right)\t{\n\t\t\t\t$( \"#center\" + matchRow).attr('class','box--mismatch') \t;\t\n\t\t\t}\n\t\t}\n\t});\n\t};\n\t\n\tha.onDragFunction = function(scope,element,attrs)\t{\n\t//Drag Events\n\telement.on('dragstart', function(event) {\n\t\tevent.originalEvent.dataTransfer.effectAllowed='move';\n\t\tvar sourceContainerId = event.target.parentElement.id;\n\t\tvar sourceContainerRow = event.target.parentElement.dataset.row;\n\t\tevent.originalEvent.dataTransfer.setData(\"text\", event.target.id);\n\t\tif(sourceContainerRow != 'homeRow')\t{\n\t\t \t$( \"#center\" + sourceContainerRow).attr('class','box--noresult');\n\t\t}\n\t\t$( \"#\" + sourceContainerId).removeClass( \"box\" );\n\t\t$( \"#\" + sourceContainerId).addClass( \"box--empty\" );\n\t});\n\telement.on('dragend', function(event)\t{\n\t\tevent.preventDefault();\n\t\tvar destinationContainerId = event.target.parentElement.id;\n\t\tvar destinationContainerRow = event.target.parentElement.dataset.row;\n\t\t$( \"#\" + destinationContainerId).removeClass( \"box--empty\" );\n\t\t$( \"#\" + destinationContainerId).addClass( \"box\" );\n\t\tvar left = $( \"#left\" + destinationContainerRow + \" span:first-of-type\" ).attr('data-match');\n\t\tvar right = $( \"#right\" + destinationContainerRow + \" span:first-of-type\" ).attr('data-match');\n\t\tif(left != undefined && right != undefined)\t{\n\t\t    if(left == right)\t{\n\t\t    \t$( \"#center\" + destinationContainerRow).attr('class','box--match') \t;\t\n\t\t    }else if (left != right)\t{\n\t\t    \t$( \"#center\" + destinationContainerRow).attr('class','box--mismatch') \t;\t\n\t\t    }\n\t\t}\n\t});\n\t}\n\t\n\tha.onDropFunction = function(scope,element,attrs)\t{\n\t\t//Drag Events\n\t\telement.on('drop', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar draggableElement = event.target.draggable;\n\t\t\tvar data = event.originalEvent.dataTransfer.getData(\"text\");\n\t\t\tvar destinationContainerId = event.target.id;\n\t\t\tvar destinationContainerChild = $(\"#\" + destinationContainerId + \n\t\t\t\" span:first-of-type\").attr('id');\n\t\t\tif (!destinationContainerChild && !draggableElement)\t{\n\t\t\t\tevent.target.appendChild($('#'+data)[0]);\n\t\t\t}\n\t\t});\n\t\telement.on('dragover', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.originalEvent.dataTransfer.dropEffect='move';\n\t\t});\n\t};\n\n\tconsole.log(\"-----ha Controller Scope-----\");\n\tconsole.log(ha);\n});\n});"],"sourceRoot":"/source/"}