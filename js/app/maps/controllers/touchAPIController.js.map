{"version":3,"sources":["controllers/touchAPIController-src.js"],"names":["define","sampleApp","register","controller","$scope","ha","this","touchConfigObj","droplist","touchFunction","localScope","dragConfigObj","dragFunction","dropConfigObj","dropFunction","onTouchFunction","scope","element","attrs","attrsobj","angular","fromJson","touchableItem","dropList","on","event","preventDefault","stopPropagation","touchedElementId","touchedElementText","currentTarget","childNodes","nodeValue","sourceContainerRow","target","parentElement","dataset","row","$","attr","append","xPos","originalEvent","changedTouches","pageX","yPos","pageY","offset","top","left","addClass","remove","sourceContainer","id","sourceContainerId","clientX","clientY","destinationContainer","document","elementFromPoint","destinationContainerRow","destinationContainerId","indexOf","html","removeClass","matchRow","right","undefined","onDragFunction","dataTransfer","effectAllowed","setData","onDropFunction","draggableElement","draggable","data","getData","destinationContainerChild","appendChild","dropEffect","console","log"],"mappings":"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","file":"controllers/touchAPIController.js","sourcesContent":["//Touch API Controller\n\ndefine(['app'], function(sampleApp){\n\nsampleApp.register.controller('touchAPI', function($scope)\t{\n\tvar ha = this;\n\n\tha.touchConfigObj = \n\t{\n\t'droplist' : ['left1','left2','left3','right1','right2',\n\t\t\t\t'right3','r4c1','r4c2','r4c3','r4c4','r4c5','r4c6'],\n\t'touchFunction' : 'onTouchFunction',\n\t'localScope' : 'ha'\n\t};\n\t\n\tha.dragConfigObj = {'dragFunction' : 'onDragFunction' , 'localScope' : 'ha'};\n\tha.dropConfigObj = {'dropFunction' : 'onDropFunction' , 'localScope' : 'ha'};\n\t\t\t\t\t\n\tha.onTouchFunction = function(scope,element,attrs)\t{\n\tvar attrsobj =\tangular.fromJson(attrs.touchableItem);\n\tvar dropList = attrsobj.droplist;\n\t\n\telement.on('touchstart',function(event){\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar touchedElementId = event;\n\t\tvar touchedElementText = touchedElementId.currentTarget.childNodes[0].nodeValue;\n\t\tvar sourceContainerRow = event.target.parentElement.dataset.row;\n\t\tif(sourceContainerRow != 'homeRow')\t{\n\t \t\t$( \"#center\" + sourceContainerRow).attr('class','box--noresult');\n\t\t}\n\t\t$( \"body\" ).append( \"<span id='ghostDragElement' class='ghostdrag'>\"+\n\t\ttouchedElementText+\"</span>\" );\n\t});\n\t\n\telement.on('touchmove',function(event){\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar xPos = event.originalEvent.changedTouches[0].pageX;\n\t\tvar yPos = event.originalEvent.changedTouches[0].pageY;\n\t\t$(\"#ghostDragElement\").offset({ top: yPos-25, left: xPos-35 });\n\t\t$(\"#ghostDragElement\").addClass( \"ghostdrag--moving\" );\n\t});\n\t\n\t// Touch Events\n\telement.on('touchend',function(event){\n\t\t$(\"#ghostDragElement\").remove();\n\t\tevent.preventDefault() ;\n\t\tevent.stopPropagation();\n\t\tvar touchedElementId = event.target.id;\n\t\tvar sourceContainer = event.target.parentElement;\n\t\tvar sourceContainerId = event.target.parentElement.id;\n\t\tvar sourceContainerRow = sourceContainer.dataset.row;\n\t\tvar xPos = event.originalEvent.changedTouches[0].clientX;\n\t\tvar yPos = event.originalEvent.changedTouches[0].clientY;\n\t\tvar destinationContainer = document.elementFromPoint(xPos, yPos);\n\t\tvar destinationContainerRow = destinationContainer.dataset.row;\n\t\tvar destinationContainerId = destinationContainer.id != \"\" ? destinationContainer.id : 'noId';\n\t\t\n\t\tif (dropList.indexOf(destinationContainerId) != -1)\t{\n\t\t    $( \"#\" + destinationContainerId).html(event.target);\n\t\t    $( \"#\" + destinationContainerId).removeClass( \"box--empty\" );\n\t\t  \t$( \"#\" + destinationContainerId).addClass( \"box\" );\n\t\t  \t$( \"#\" + sourceContainerId).removeClass( \"box\" );\n\t\t\t$( \"#\" + sourceContainerId).addClass( \"box--empty\" );\n\t\t}\n\t\t\n\t\tvar matchRow = dropList.indexOf(destinationContainerId) != -1 ? \n\t\tdestinationContainerRow : sourceContainerRow;\n\t\tvar left = $( \"#left\" + matchRow + \" span:first-of-type\" ).attr('data-match');\n\t\tvar right = $( \"#right\" + matchRow + \" span:first-of-type\" ).attr('data-match');\n\t\tif(left != undefined && right != undefined)\t{\n\t\t\tif(left == right)\t{\n\t\t\t\t$( \"#center\" + matchRow).attr('class','box--match') \t;\t\n\t\t\t}else if (left != right)\t{\n\t\t\t\t$( \"#center\" + matchRow).attr('class','box--mismatch') \t;\t\n\t\t\t}\n\t\t}\n\t});\n\t};\n\t\n\tha.onDragFunction = function(scope,element,attrs)\t{\n\t//Drag Events\n\telement.on('dragstart', function(event) {\n\t\tevent.originalEvent.dataTransfer.effectAllowed='move';\n\t\tvar sourceContainerId = event.target.parentElement.id;\n\t\tvar sourceContainerRow = event.target.parentElement.dataset.row;\n\t\tevent.originalEvent.dataTransfer.setData(\"text\", event.target.id);\n\t\tif(sourceContainerRow != 'homeRow')\t{\n\t\t \t$( \"#center\" + sourceContainerRow).attr('class','box--noresult');\n\t\t}\n\t\t$( \"#\" + sourceContainerId).removeClass( \"box\" );\n\t\t$( \"#\" + sourceContainerId).addClass( \"box--empty\" );\n\t});\n\telement.on('dragend', function(event)\t{\n\t\tevent.preventDefault();\n\t\tvar destinationContainerId = event.target.parentElement.id;\n\t\tvar destinationContainerRow = event.target.parentElement.dataset.row;\n\t\t$( \"#\" + destinationContainerId).removeClass( \"box--empty\" );\n\t\t$( \"#\" + destinationContainerId).addClass( \"box\" );\n\t\tvar left = $( \"#left\" + destinationContainerRow + \" span:first-of-type\" ).attr('data-match');\n\t\tvar right = $( \"#right\" + destinationContainerRow + \" span:first-of-type\" ).attr('data-match');\n\t\tif(left != undefined && right != undefined)\t{\n\t\t    if(left == right)\t{\n\t\t    \t$( \"#center\" + destinationContainerRow).attr('class','box--match') \t;\t\n\t\t    }else if (left != right)\t{\n\t\t    \t$( \"#center\" + destinationContainerRow).attr('class','box--mismatch') \t;\t\n\t\t    }\n\t\t}\n\t});\n\t}\n\t\n\tha.onDropFunction = function(scope,element,attrs)\t{\n\t\t//Drag Events\n\t\telement.on('drop', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar draggableElement = event.target.draggable;\n\t\t\tvar data = event.originalEvent.dataTransfer.getData(\"text\");\n\t\t\tvar destinationContainerId = event.target.id;\n\t\t\tvar destinationContainerChild = $(\"#\" + destinationContainerId + \n\t\t\t\" span:first-of-type\").attr('id');\n\t\t\tif (!destinationContainerChild && !draggableElement)\t{\n\t\t\t\tevent.target.appendChild($('#'+data)[0]);\n\t\t\t}\n\t\t});\n\t\telement.on('dragover', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.originalEvent.dataTransfer.dropEffect='move';\n\t\t});\n\t};\n\n\tconsole.log(\"-----ha Controller Scope-----\");\n\tconsole.log(ha);\n});\n});"],"sourceRoot":"/source/"}