{"version":3,"sources":["controllers/dynamicdataController-src.js"],"names":["define","sampleApp","register","controller","$rootScope","$scope","$http","exSrcConSrv","arryObjSrv","dd","this","exSrcObj","exsrccon","html","label","src","icon","css","psrc","exSrcLinkArray","parseObj","$on","newDataItem","name","rating","reverse","selectedOrder","lastDisplayTarget","dataLoader","arg","sqlTableName","tableLoaded","get","then","response","dataList","data","records","angular","forEach","value","key","collection","newRecord","dataPoster","action","editState","undefined","replace","dataString","JSON","stringify","post","headers","Content-Type","temp","push","ID","parseInt","dataBoxResize","index","indexOf","splice","rdata","status","header","config","ResponseDetails","orderController","cancelAction","recordID","setEditState","copy","myForm","$setPristine","$setUntouched","dataBox","containerBox","offset","dataBoxHeight","element","prop","setForm","form","console","log"],"mappings":"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","file":"controllers/dynamicdataController.js","sourcesContent":["//Dynamic Data Controller\n\ndefine (['app'], function(sampleApp){\n\nsampleApp.register.controller('dynamicdata',function($rootScope, $scope, $http, exSrcConSrv, arryObjSrv){\n\tvar dd = this;\n\t\n\t$rootScope.exSrcObj = exSrcConSrv;\n\t\n\t$rootScope.exSrcObj.exsrccon(\n\t{\n\t\t\"html\" : {\t\n\t\t\"label\":\"HTML\", \n\t\t\"src\":\"pages/dynamicData.html\", \n\t\t\"icon\":\"fa fa-html5\"\n\t\t},\n\t\t\"controller\" : {\n\t\t\"label\":\"DynamicDataCtrlr\", \n\t\t\"src\":\"srcjs/app/controllers/dynamicdataController-src.js\", \n\t\t\"icon\":\"fa fa-dot-circle-o\"\n\t\t},\n\t\t\"css\" : {\n\t\t\"label\":\"SCSS\", \n\t\t\"src\":\"scss/app/dynamicData.scss\", \n\t\t\"psrc\":\"css/app/dynamicData.css\",\n\t\t\"icon\":\"fa fa-css3\"\n\t\t}\n\t});\n\t\n\t$rootScope.exSrcLinkArray = arryObjSrv.parseObj($rootScope.exSrcObj); \n\t\n\t$scope.$on('$viewContentLoaded', function() { \n\t\tdd.newDataItem = {\n\t\t\tname : '',\n\t\t\trating : ''\n\t\t};\n\t\tdd.reverse = '';\n\t\tdd.selectedOrder = '';\n\t\t$scope.lastDisplayTarget = ''; \n\t });\n\t \n\t//Load Data\n\tdd.dataLoader = function(arg)\t{\n\t\tdd.sqlTableName = arg;\n\t\tdd.tableLoaded = true;\n\t\t$http.get(\"./dataList.php?dataSet=\"+arg).then(function(response) {\n\t\t\tdd.dataList = response.data.records;\n\t\t\tangular.forEach(dd.dataList, function(value, key) {\n\t\t\t  dd.dataList[key].collection = arg;\n\t\t\t});\n\t\t\tdd.newRecord();\n\t\t});\n\t};\n\t\n\t//Post Data\n\tdd.dataPoster = function(data,action)\t{\n\t\tdata.editState = undefined;\n\t\tdata.name = (data.name.replace(/[^a-zA-Z0-9\\s]/g, \"\")); \n\t\tdata.action = action;\n\t\tvar dataString = 'data='+JSON.stringify(data);\n\t\t$http.post(\n\t\t\t\"./dataList.php\", \n\t\t\tdataString, \n\t\t\t{headers : {'Content-Type': 'application/x-www-form-urlencoded'}} \n\t\t)\n\t\t.then(\n\t\t\tfunction (response) {\n\t\t\t\tif (action == \"insert\")\t{\n\t\t\t\tvar temp = dd.selectedOrder;\n\t\t\t\tdd.selectedOrder = '';\n\t\t\t\tdd.dataList.push({\n\t\t\t\t\t'ID':response.data,\n\t\t\t\t\t'name':data.name,\n\t\t\t\t\t'rating':parseInt(data.rating),\n\t\t\t\t\t'collection':data.collection\n\t\t\t\t});\n\t\t\t\tdd.selectedOrder = temp;\n\t\t\t\tdd.dataBoxResize('table-box--display-inner','table-box--display',(40));\n\t\t\t\t}\n\t\t\t\tif (action == \"remove\")\t{\n\t\t\t\t\tvar index = dd.dataList.indexOf(data);\n\t\t\t\t\tdd.dataList.splice(index, 1);\n\t\t\t\t\tdd.dataBoxResize('table-box--display-inner','table-box--display',(-32));\n\t\t\t\t}\n\t\t\t}, \n\t\t\tfunction (rdata, status, header, config) {\n\t\t\t\tdd.ResponseDetails = rdata;\n\t\t\t}\n\t\t);\n\t};\n\t \n\t//Order Data\n\tdd.orderController = function(arg)\t{\n\t\tdd.reverse = (dd.selectedOrder === arg) ? !dd.reverse : false;\n\t\tdd.selectedOrder = arg;\n\t};\n\t\n\t//Cancell Action\n\tdd.cancelAction = function(data)\t{\n\t\tvar recordID = dd.dataList.indexOf(data);\n\t\tdd.dataList[recordID].name = data.editState.name;\n\t\tdd.dataList[recordID].rating = data.editState.rating;\n\t\tdata.editState = undefined;\n\t};\n\t\n\t//Set Edit State\n\tdd.setEditState = function(data)\t{\n\t\tdata.editState = angular.copy(data);\n\t};\n\t\n\t//New Record\n\tdd.newRecord = function()\t{\n\t\tdd.newDataItem = {\n\t\t\tname : '',\n\t\t\trating : '',\n\t\t\tcollection : dd.sqlTableName\n\t\t};\n\t\tdd.myForm.$setPristine();\n\t\tdd.myForm.$setUntouched();\n\t};\n\t\n\t//Resize Data Box\n\tdd.dataBoxResize = function(dataBox, containerBox, offset)\t{\n\t\toffset = (!offset) ? 5 : offset;\n\t\tvar dataBoxHeight = angular.element('#'+dataBox).prop('offsetHeight')+offset\n\t\tangular.element('#'+containerBox).css('height',dataBoxHeight);\n\t}\n\t\n\tdd.setForm = function (form) {\n\t\tdd.myForm = form;\n\t}\n\t\n\tconsole.log(\"-----Controller Scope-----\");\n\tconsole.log($scope);\n\t\n\tconsole.log(\"-----dd Controller Scope-----\");\n\tconsole.log(dd);\n})\n\n});"],"sourceRoot":"/source/"}