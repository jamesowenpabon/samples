{"version":3,"sources":["controllers/dynamicdataController-src.js"],"names":["define","sampleApp","register","controller","$rootScope","$scope","$http","$window","exSrcConSrv","arryObjSrv","dd","this","exSrcObj","exSrcCon","html","label","src","icon","css","psrc","exSrcLinkArray","parseObj","$on","newDataItem","name","rating","reverse","selectedOrder","lastDisplayTarget","dataLoader","arg","sqlTableName","tableLoaded","get","then","response","dataList","data","records","angular","forEach","value","key","collection","newRecord","dataPoster","action","editState","undefined","replace","dataString","JSON","stringify","method","url","headers","Content-Type","success","rdata","status","config","PostDataResponse","temp","push","ID","parseInt","dataBoxResize","index","indexOf","splice","error","header","ResponseDetails","orderController","cancelAction","recordID","setEditState","copy","myForm","$setPristine","$setUntouched","dataBox","containerBox","offset","dataBoxHeight","element","prop","setForm","form","console","log"],"mappings":"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","file":"controllers/dynamicdataController.js","sourcesContent":["//Dynamic Data Controller\n\ndefine (['app'], function(sampleApp){\n\nsampleApp.register.controller('dynamicdata',function($rootScope, $scope, $http, $window, exSrcConSrv, arryObjSrv){\n\tvar dd = this;\n\t\n\t\n\t$rootScope.exSrcObj = new exSrcConSrv.exSrcCon(\n\t{\n\t\t\"html\" : {\t\"label\":\"HTML\", \n \t\t\t\t\"src\":\"pages/dynamicData.html\", \n \t\t\t\t\"icon\":\"fa fa-html5\"\n\t \t},\n\t\t\"controller\" : {\n\t\t\t\t\t\"label\":\"DynamicDataCtrlr\", \n\t\t\t\t\t\"src\":\"srcjs/app/controllers/dynamicdataController-src.js\", \n\t\t\t\t\t\"icon\":\"fa fa-dot-circle-o\"\n\t\t},\n\t\t\"css\" : {\n\t\t\t\t\t\"label\":\"SCSS\", \n\t\t\t\t\t\"src\":\"scss/app/dynamicData.scss\", \n\t\t\t\t\t\"psrc\":\"css/app/dynamicData.css\",\n\t\t\t\t\t\"icon\":\"fa fa-css3\"\n\t\t}\n\t});\n\t\n\t\n\t$rootScope.exSrcLinkArray = arryObjSrv.parseObj($rootScope.exSrcObj); \n\t\n\t\n\t$scope.$on('$viewContentLoaded', function() {\n\t\tdd.newDataItem = {\n\t\t\tname : '',\n\t\t\trating : ''\n\t\t}\n\t\tdd.reverse = '';\n\t\tdd.selectedOrder = '';\n\t\tdd.lastDisplayTarget = '';\n\t })\n\t \n\t//Load Data\n\tdd.dataLoader = function(arg)\t{\n\t\tdd.sqlTableName = arg;\n\t\tdd.tableLoaded = true;\n\t\t$http.get(\"./dataList.php?dataSet=\"+arg).then(function(response) {\n\t\t\tdd.dataList = response.data.records;\n\t\t\tangular.forEach(dd.dataList, function(value, key) {\n\t\t\t  dd.dataList[key].collection = arg;\n\t\t\t});\n\t\t\tdd.newRecord();\n\t\t});\n\t}\n\t\n\t//Post Data\n\tdd.dataPoster = function(data,action)\t{\n\t\tdata.editState = undefined;\n\t\tdata.name = (data.name.replace(/[^a-zA-Z0-9\\s]/g, \"\")); \n\t\tdata.action = action;\n\t\tdataString = 'data='+JSON.stringify(data);\n\t\t$http({\n\t\t\tmethod : 'POST',\n\t\t\turl : './dataList.php',\n\t\t\tdata: dataString,\n\t\t\theaders : {'Content-Type': 'application/x-www-form-urlencoded'}  \n\t\t})\n\t\t.success(function (rdata, status, headers, config) {\n\t\tdd.PostDataResponse = rdata;\t\n\t\tif (action == \"insert\")\t{\n\t\tvar temp = dd.selectedOrder\n\t\tdd.selectedOrder = '';\n\t\tdd.dataList.push({\n\t\t\t'ID':rdata,\n\t\t\t'name':data.name,\n\t\t\t'rating':parseInt(data.rating),\n\t\t\t'collection':data.collection\n\t\t});\n\t\tdd.selectedOrder = temp;\n\t\tdd.dataBoxResize('table-box--display-inner','table-box--display',(40));\n\t\t}\n\t\tif (action == \"remove\")\t{\n\t\t\tvar index = dd.dataList.indexOf(data);\n\t\t\tdd.dataList.splice(index, 1);\n\t\t\tdd.dataBoxResize('table-box--display-inner','table-box--display',(-32));\n\t\t}\n\t\t})\n\t\t.error(function (rdata, status, header, config) {\n\t\t\tdd.ResponseDetails = rdata;\n\t\t});\n\t}\n\t \n\t//Order Data\n\tdd.orderController = function(arg)\t{\n\t\tdd.reverse = (dd.selectedOrder === arg) ? !dd.reverse : false;\n\t\tdd.selectedOrder = arg;\n\t}\n\t\n\t//Cancell Action\n\tdd.cancelAction = function(data)\t{\n\t\tvar recordID = dd.dataList.indexOf(data);\n\t\tdd.dataList[recordID].name = data.editState.name;\n\t\tdd.dataList[recordID].rating = data.editState.rating;\n\t\tdata.editState = undefined;\n\t}\n\t\n\t//Set Edit State\n\tdd.setEditState = function(data)\t{\n\t\tdata.editState = angular.copy(data);\n\t}\n\t\n\t//New Record\n\tdd.newRecord = function()\t{\n\t\tdd.newDataItem = {\n\t\t\tname : '',\n\t\t\trating : '',\n\t\t\tcollection : dd.sqlTableName\n\t\t}\n\t\tdd.myForm.$setPristine();\n\t\tdd.myForm.$setUntouched();\n\t}\n\t\n\t//Resize Data Box\n\tdd.dataBoxResize = function(dataBox, containerBox, offset)\t{\n\t\tvar offset = (!offset) ? 5 : offset;\n\t\tvar dataBoxHeight = angular.element('#'+dataBox).prop('offsetHeight')+offset\n\t\tangular.element('#'+containerBox).css('height',dataBoxHeight);\n\t}\n\t\n\tdd.setForm = function (form) {\n\t\tdd.myForm = form;\n\t}\n\tconsole.log(\"-----dd Controller Scope-----\");\n\tconsole.log(dd);\n})\n\n});"],"sourceRoot":"/source/"}